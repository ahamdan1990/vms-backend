{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    },
    "LogRequestResponse": true,
    "LogPerformanceMetrics": true,
    "EnableStructuredLogging": true,
    "EnableCorrelationId": true,
    "Console": {
      "Enabled": true,
      "LogLevel": "Information",
      "UseColors": true,
      "IncludeScopes": true
    },
    "File": {
      "Enabled": true,
      "LogLevel": "Information",
      "Path": "logs/vms-.txt",
      "RollingInterval": "Day",
      "RetainedFileCountLimit": 30,
      "FileSizeLimitBytes": 104857600,
      "RollOnFileSizeLimit": true
    },
    "Audit": {
      "Enabled": true,
      "LogLevel": "Information",
      "LogUserActions": true,
      "LogDataChanges": true,
      "LogSystemEvents": true,
      "LogSecurityEvents": true,
      "LogLoginAttempts": true,
      "LogApiRequests": true,
      "ExcludedPaths": [ "/health", "/metrics" ],
      "ExcludedHeaders": [ "Authorization", "Cookie" ],
      "RetentionDays": 365
    },
    "Security": {
      "Enabled": true,
      "LogLevel": "Warning",
      "LogFailedAuthentication": true,
      "LogUnauthorizedAccess": true,
      "LogSuspiciousActivity": true,
      "LogPasswordChanges": true,
      "LogAccountLockouts": false,
      "LogTokenEvents": true,
      "LogPermissionChanges": true,
      "AlertOnSecurityEvents": true,
      "MonitoredEvents": [ "Login", "Logout", "PasswordChange", "AccountLockout" ]
    }
  },
  "Serilog": {
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "theme": "Serilog.Sinks.SystemConsole.Themes.AnsiConsoleTheme::Code, Serilog.Sinks.Console",
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj} <s:{SourceContext}>{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/vms-.txt",
          "rollingInterval": "Day",
          "retainedFileCountLimit": 30,
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {CorrelationId} {Message:lj} <s:{SourceContext}>{NewLine}{Exception}"
        }
      }
    ],
    "Enrich": [ "FromLogContext", "WithCorrelationId", "WithThreadId" ]
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Server=(localdb)\\mssqllocaldb;Database=VisitorManagementDB;Trusted_Connection=true;TrustServerCertificate=true",
    "Redis": "localhost:6379"
  },
  "JWT": {
    "SecretKey": "ThisIsAVeryLongSecretKeyForJWTTokenGenerationThatMustBeAtLeast256BitsLong",
    "Issuer": "VisitorManagementSystem",
    "Audience": "VMS-Users",
    "ExpiryInMinutes": 15,
    "RefreshTokenExpiryInDays": 7,
    "Algorithm": "HS256",
    "ValidateIssuerSigningKey": true,
    "ValidateIssuer": true,
    "ValidateAudience": true,
    "ValidateLifetime": true,
    "RequireExpirationTime": true,
    "ClockSkewMinutes": 0,
    "PasswordResetTokenExpiryMinutes": 30,
    "EmailConfirmationTokenExpiryHours": 24,
    "TwoFactorTokenExpiryMinutes": 5,
    "AllowConcurrentSessions": true,
    "MaxConcurrentSessions": 5,
    "RotateRefreshTokens": true,
    "RevokeFamilyOnSuspiciousActivity": true
  },
  "Security": {
    "PasswordPolicy": {
      "RequireDigit": true,
      "RequireLowercase": true,
      "RequireUppercase": true,
      "RequireNonAlphanumeric": true,
      "RequiredLength": 8,
      "RequiredUniqueChars": 3,
      "MaxLength": 128,
      "PasswordHistoryLimit": 5,
      "PasswordExpiryDays": 90,
      "PreventPasswordReuse": true,
      "CommonPasswords": [],
      "ForbiddenPasswords": []
    },
    "Lockout": {
      "DefaultLockoutTimeSpan": "00:15:00",
      "MaxFailedAccessAttempts": 20,
      "AllowedForNewUsers": true,
      "LockoutWindow": "00:05:00",
      "AutoUnlockAfterLockoutPeriod": true,
      "NotifyOnLockout": true,
      "MaxLockoutAttempts": 10,
      "ExtendedLockoutDuration": "1.00:00:00"
    },
    "RateLimiting": {
      "LoginAttempts": {
        "PermitLimit": 5,
        "Window": "00:05:00",
        "QueueLimit": 0,
        "AutoReplenishment": true,
        "ReplenishmentPeriod": "00:00:01"
      },
      "GeneralApi": {
        "PermitLimit": 100,
        "Window": "00:01:00",
        "QueueLimit": 0,
        "AutoReplenishment": true,
        "ReplenishmentPeriod": "00:00:01"
      },
      "PasswordReset": {
        "PermitLimit": 3,
        "Window": "01:00:00",
        "QueueLimit": 0,
        "AutoReplenishment": true,
        "ReplenishmentPeriod": "00:00:01"
      },
      "TokenRefresh": {
        "PermitLimit": 10,
        "Window": "00:01:00",
        "QueueLimit": 0,
        "AutoReplenishment": true,
        "ReplenishmentPeriod": "00:00:01"
      },
      "EnableGlobalRateLimit": true,
      "EnablePerUserRateLimit": true,
      "EnablePerIpRateLimit": true
    },
    "EncryptionKeys": {
      "DataProtectionKey": "DataProtectionKey123456789012345678901234567890",
      "DatabaseEncryptionKey": "DatabaseKey123456789012345678901234567890",
      "CookieEncryptionKey": "CookieKey123456789012345678901234567890",
      "FileEncryptionKey": "FileKey123456789012345678901234567890",
      "AutoRotateKeys": true,
      "KeyRotationDays": 90
    },
    "SessionSecurity": {
      "SessionTimeout": "00:30:00",
      "SlidingExpiration": true,
      "RequireSecureCookies": true,
      "RequireHttpOnlyCookies": true,
      "SameSiteMode": "Strict",
      "CookieDomain": "",
      "CookiePath": "/",
      "EnableDeviceTracking": true,
      "EnableGeoLocationTracking": false
    },
    "Cors": {
      "AllowedOrigins": [ "http://localhost:3000", "https://localhost:3000" ],
      "AllowedMethods": [ "GET", "POST", "PUT", "DELETE" ],
      "AllowedHeaders": [ "Content-Type", "Authorization" ],
      "AllowCredentials": true,
      "PreflightMaxAge": 86400
    },
    "Https": {
      "RequireHttps": true,
      "RedirectHttpToHttps": true,
      "HttpsPort": 443,
      "EnableHsts": true,
      "HstsMaxAge": "365.00:00:00",
      "HstsIncludeSubdomains": true,
      "HstsPreload": true
    },
    "ContentSecurityPolicy": {
      "Enabled": true,
      "ReportOnly": false,
      "DefaultSrc": "'self'",
      "ScriptSrc": "'self'",
      "StyleSrc": "'self' 'unsafe-inline'",
      "ImgSrc": "'self' data: https:",
      "FontSrc": "'self'",
      "ConnectSrc": "'self'",
      "FrameSrc": "'none'",
      "ObjectSrc": "'none'",
      "ReportUri": ""
    }
  },
  "Database": {
    "CommandTimeout": 30,
    "MaxRetryCount": 3,
    "EnableSensitiveDataLogging": false,
    "EnableDetailedErrors": false,
    "ConnectionPool": {
      "MinPoolSize": 5,
      "MaxPoolSize": 100,
      "ConnectionTimeout": "00:00:30",
      "ConnectionLifetime": "00:30:00",
      "Pooling": true,
      "ConnectionIdleTimeout": 300
    },
    "Migration": {
      "AutoMigrate": false,
      "ValidateOnStartup": true,
      "MigrationAssembly": "",
      "MigrationHistoryTable": "__EFMigrationsHistory",
      "BackupBeforeMigration": ""
    },
    "Performance": {
      "EnableQueryCache": true,
      "QueryCacheSize": 1000,
      "QueryCacheExpiration": "00:05:00",
      "EnableConnectionResiliency": true,
      "LogSlowQueries": true,
      "SlowQueryThreshold": "00:00:01",
      "EnableStatistics": true
    },
    "HealthCheck": {
      "Enabled": true,
      "Timeout": "00:00:10",
      "Interval": "00:01:00",
      "TestQuery": "SELECT 1",
      "CheckReadOnlyConnection": false,
      "CheckWriteConnection": true
    }
  },
  "FRSystem": {
    "GraphQLEndpoint": "https://your-fr-system.com/graphql",
    "ApiKey": "your-fr-api-key-here",
    "WebhookSecret": "your-webhook-secret-here",
    "Timeout": "00:00:30",
    "RetryCount": 3,
    "HealthCheckInterval": "00:01:00"
  },
  "Email": {
    "SmtpHost": "localhost",
    "SmtpPort": 587,
    "EnableSsl": true,
    "Username": "",
    "Password": "",
    "FromAddress": "noreply@vms.com",
    "FromName": "Visitor Management System"
  },
  "SMS": {
    "Provider": "Twilio",
    "AccountSid": "",
    "AuthToken": "",
    "FromNumber": ""
  },
  "FileStorage": {
    "Provider": "Local",
    "BasePath": "uploads",
    "MaxFileSize": 10485760,
    "AllowedExtensions": [ ".jpg", ".jpeg", ".png", ".pdf", ".xlsx", ".csv" ]
  },
  "SystemSettings": {
    "DefaultTimeZone": "UTC",
    "DateFormat": "yyyy-MM-dd",
    "TimeFormat": "HH:mm:ss",
    "DefaultPageSize": 20,
    "MaxPageSize": 100,
    "SessionTimeout": "00:30:00",
    "EnableAuditLogging": true,
    "EnableRealTimeNotifications": true
  }
}